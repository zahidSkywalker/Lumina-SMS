{% extends "base.html" %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap;">
    <h2 style="font-weight: 700;">Dashboard</h2>
    <a href="{{ url_for('create_student') }}" class="btn btn-primary"><i class="fa-solid fa-plus"></i> Add Student</a>
</div>

<div class="card-grid">
    <div class="lumina-card" style="border-left: 5px solid var(--primary);">
        <div style="color: var(--text-light); font-size: 0.85rem; text-transform: uppercase;">Total Students</div>
        <div class="stat-number">{{ total }}</div>
    </div>

    <div class="lumina-card" style="border-left: 5px solid var(--secondary);">
        <div style="color: var(--text-light); font-size: 0.85rem; text-transform: uppercase;">Average GPA</div>
        <div class="stat-number">{{ "%.2f"|format(avg) if avg != 0 else "0.00" }}</div>
    </div>

    <!-- NEW: Overdue Card -->
    <div class="lumina-card" style="border-left: 5px solid #ef4444;">
        <a href="{{ url_for('reminders') }}" style="text-decoration: none; color: inherit; display: block;">
            <div style="color: var(--text-light); font-size: 0.85rem; text-transform: uppercase;">Fee Dues</div>
            <div class="stat-number" style="color: #ef4444;">{{ overdue }}</div>
            <div style="font-size: 0.9rem; color: var(--text-light);">Pending Payments</div>
        </a>
    </div>
</div>
{% endblock %}
